<?xml version="1.0" encoding="UTF-8"?><record_update table="sp_widget">
    <sp_widget action="INSERT_OR_UPDATE">
        <category>custom</category>
        <client_script><![CDATA[function($scope,$rootScope,$timeout) {

  /* widget controller */

  var c = this;

  $scope.showWidget = "";

  $scope.$on('showHideWidget', function(event,data) {

  $timeout(function(){

  $scope.showWidget = data;

  });

  });

}]]></client_script>
        <controller_as>c</controller_as>
        <css>.flex-display{

  display:flex;

  justify-content:space-between;

  padding:10px;

  clear:both;

  margin-left: auto;

  margin-right: auto;

  float: none;

}

.center-div{

  float: none;

  margin-left: auto;

  margin-right: auto;

}

.remove-margin{

margin-bottom:0px;

}</css>
        <data_table>sp_instance</data_table>
        <demo_data/>
        <description>contact widget</description>
        <docs/>
        <field_list/>
        <has_preview>false</has_preview>
        <id>contact-widget</id>
        <internal>false</internal>
        <link/>
        <name>Contact widget</name>
        <option_schema/>
        <public>false</public>
        <roles/>
        <script><![CDATA[(function() {
  /* populate the 'data' object */
  /* e.g., data.table = $sp.getValue('table'); */
     data.infoUser=[];
	
	var gr = new GlideRecord('sys_user');
	   gr.addQuery('sys_id',gs.getUserID());
	   gr.query();
	   if(gr.next()){
			var  temp={};
			 temp.dept=gr.department.name.toString();
			 temp.comp=gr.company.name.toString();
			 temp.email=gr.email.toString();
			 data.infoUser.push(temp);
		 }
	
	
})();]]></script>
        <servicenow>false</servicenow>
        <sys_class_name>sp_widget</sys_class_name>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2019-11-27 21:50:12</sys_created_on>
        <sys_id>9b3dbf360f910010323cba8ce1050efb</sys_id>
        <sys_mod_count>18</sys_mod_count>
        <sys_name>Contact widget</sys_name>
        <sys_package display_value="CreateNotes" source="x_snc_createnotes">df5fd9a5090232007f44e1046c8ff69f</sys_package>
        <sys_policy/>
        <sys_scope display_value="CreateNotes">df5fd9a5090232007f44e1046c8ff69f</sys_scope>
        <sys_update_name>sp_widget_9b3dbf360f910010323cba8ce1050efb</sys_update_name>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2019-11-28 22:32:32</sys_updated_on>
        <template><![CDATA[<div ng-if="showWidget == 'contact'">

      <div class="container">
              <!-- your widget template -->
              <div class="col-md-10 center-div">
                      <h3 style=" border-bottom: 1px solid #ddd;padding-bottom:5px; ">Contact</h3>
                      <div class="flex-display col-md-9">
         <div ng-repeat="incident in data.infoUser | limitTo:5" class="each-incident">

     <!-- <h4>{{incident.number}}</h4> -->
    {{incident.dept}}<br>
    {{incident.comp}}<br>
    {{incident.email}}<br>  
    <p> {{data.infoUser.email}}</p>
  

      <p style="margin-bottom:0px;"></p>

  </div>  
                              <div ng-class="">
                                      <div class="">
                                         <h4>Email:</h4>
                                        <p> {{data.infoUser.email}}</p>
                                      </div>
                                <div class="">
                                              <h4>phone</h4>
                                              <a href="javascript:void(0)">(123)4567890</a>
                                      </div>
                              </div>
                      </div>
              </div>
      </div>]]></template>
    </sp_widget>
</record_update>
